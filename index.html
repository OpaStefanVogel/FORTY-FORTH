<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>FORTY-FORTH by OpaStefanVogel</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  <style>
    section { font-family:Courier,monospace; }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>FORTY-FORTH</h1>
        <p>Ohne Rundungsfehler Gleichungssysteme lösen</p>
        <p class="view"><a href="https://github.com/OpaStefanVogel/FORTY-FORTH">View the Project on GitHub <small>OpaStefanVogel/FORTY-FORTH</small></a></p>
        <ul>
          <li><a href="https://github.com/OpaStefanVogel/FORTY-FORTH/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/OpaStefanVogel/FORTY-FORTH/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/OpaStefanVogel/FORTY-FORTH">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>

<p>Ziel ist die Installation eines solchen Programms auf einem FPGA mittels VHDL und FORTH.</p>

<p>Ich verwende dabei git, um wirklich schnell auf vorher funktionierende Varianten umschalten zu können, 
notfalls bis zu einer allereinfachsten Anfangsversion.
</p>

<p>"FORTY" steht für die "40" im verwendeten Datenformat:
Hexadezimalzahlen von 00xxH bis 3FxxH werden immer als ganze Zahlen interpretiert, 
von 40xxH bis BFxxH wahlweise als Zeiger auf größere ganze Zahlen oder als Programmcode und von C0xxH bis FFxxH als negative ganze Zahlen.
</p>

<p>In diesem Sinne für den Anfang ein erstes einfaches Beispiel: 
Der oberste Stapeleintrag soll beginnend mit 0 fortlaufend um 1 erhöht und auf Adresse 2D04 ausgegeben werden.</p>

<div>PC = Speicheradresse des Programmschrittes</div>
<div>PD = Programmcode, gespeichert auf Adresse PC</div>
<div>SP = Stapelhöhe nach Ausführung des Programmschrittes</div>

<p><table border="1">
  <tr>
    <th>PC</th>
    <th>PD</th>
    <th>FORTH-Notation</th>
    <th>Stapelinhalt</th>
    <th>SP</th>
    </tr>
  <tr><td>0000</td><td>0000</td><td>0</td><td>0</td><td>1</td></tr>
  <tr><td>0001</td><td>0001</td><td>BEGIN 1</td><td>0 1</td><td>2</td></tr>
  <tr><td>0002</td><td>A007</td><td>+</td><td>1</td><td>1</td></tr>
  <tr><td>0003</td><td>B501</td><td>DUP</td><td>1 1</td><td>2</td></tr>
  <tr><td>0004</td><td>2D04</td><td>2D04</td><td>1 1 2D04</td><td>3</td></tr>
  <tr><td>0005</td><td>A009</td><td>!</td><td>1</td><td>1</td></tr>
  <tr><td>0006</td><td>8FFA</td><td>AGAIN</td><td>1</td><td>1</td></tr>
  </table></p>   

<p>Wer sich noch nicht so sehr mit FORTH auskennt: Anfangs werden "0" und "1" als Zahlen 
auf den Stapel abgelegt, dann mit "+" addiert, mit "DUP" das Ergebnis dupliziert und "!" speichert 
das Duplizierte auf der zuvor eingegebenen Adresse "2D04". "AGAIN" springt zurück zu "BEGIN". 
"BEGIN" ist nur eine Markierung und benötigt selbst keinen eigenen Programmcode.</p>

Genug der Worte, das Programm soll endlich laufen, in vivado - simulation behavioral.

<pre><code>$ git clone https://github.com/OpaStefanVogel/FORTY-FORTH.git
$ cd FORTY-FORTH
$ git checkout Step_1
$ vivado -mode tcl
Vivado% create_project -force project_FFP project_FFP
Vivado% add_files -norecurse {top.vhd P20_FFP.vhd}
Vivado% add_files -fileset sim_1 -norecurse testbench.vhd
Vivado% set_property top top [current_fileset]
Vivado% update_compile_order -fileset sources_1
Vivado% update_compile_order -fileset sim_1
Vivado% start_gui
Tcl Console: launch_simulation # = Run Behavioral Simulation
Tcl Console: run 1000 ns

</code></pre>
So, Schluss für heute.

<hr/>

      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/OpaStefanVogel">OpaStefanVogel</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
